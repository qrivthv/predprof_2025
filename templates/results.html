{% extends "base.html" %}

{%block content%}

<div class="container">
    <main>
        {%for r in res%}
        {%if showScore and r[2]%}
        <div class="container right">
            <p> </p>
          <p style="width: 80%" style="font-size: 1.1rem; font-style: italic">№{{tasks[r[0]][0]}} <span style="color: #009600">Верный ответ</span></p>
          <p style="width: 80%">{{tasks[r[0]][1]}}</p>
            {%if tasks[r[0]][9] != []%}
            <div class="d-flex">
                {%for img in tasks[r[0]][9]%}
                <img src="{{url_for('static', filename=img)}}" style="max-height: 20vh; width: auto; margin-bottom:1em;">
                {%endfor%}
            </div>
            {%endif%}
          <input class="col-4 themed-grid-col" disabled value="{{r[1]}}"></input>
            {%if tasks[r[0]][8] != []%}
            <h5>Файлы для скачивания:</h5>
            {%for file in tasks[r[0]][8]%}
            <a href="{{url_for('static', filename=file)}}" download target="_blank" style="text-decorations: none">{{file[6:]}}</a>
            {%endfor%}
            {%endif%}
            <p></p>

            {%if showAns%}
          <p class="col-4 themed-grid-col">Правильный ответ: {{tasks[r[0]][2]}}</p>
            {%endif%}

        </div>
        {%elif showScore and (not r[2])%}
        <div class="container wrong">
            <p> </p>
            <p style="width: 80%">№{{tasks[r[0]][0]}} <span style="color: #960000">Неверный ответ</span></p>
          <p style="width: 80%">{{tasks[r[0]][1]}}</p>
            {%if tasks[r[0]][9] != []%}
            <div class="d-flex">
                {%for img in tasks[r[0]][9]%}
                <img src="{{url_for('static', filename=img)}}" style="max-height: 20vh; width: auto; margin-bottom:1em;">
                {%endfor%}
            </div>
            {%endif%}
          <input class="col-4 themed-grid-col" disabled value="{{r[1]}}"></input>
            <p></p>
            {%if tasks[r[0]][8] != []%}
            <h5>Файлы для скачивания:</h5>
            {%for file in tasks[r[0]][8]%}
            <a href="{{url_for('static', filename=file)}}" download target="_blank" style="text-decorations: none">{{file[6:]}}</a>
            {%endfor%}
            {%endif%}
            {%if showAns%}
          <p class="col-4 themed-grid-col">Правильный ответ: {{tasks[r[0]][2]}}</p>
            {%endif%}

        </div>
        {%else%}
        <div class="container">
            <p> </p>
            <p style="width: 80%">№{{tasks[r[0]][0]}}</p>
          <p style="width: 80%">{{tasks[r[0]][1]}}</p>
            {%if tasks[r[0]][9] != []%}
            <div class="d-flex">
                {%for img in tasks[r[0]][9]%}
                <img src="{{url_for('static', filename=img)}}" style="max-height: 20vh; width: auto; margin-bottom:1em;">
                {%endfor%}
            </div>
            {%endif%}
          <input class="col-4 themed-grid-col" disabled value="{{r[1]}}"></input>
            <p></p>
            {%if tasks[r[0]][8] != []%}
            <h5>Файлы для скачивания:</h5>
            {%for file in tasks[r[0]][8]%}
            <a href="{{url_for('static', filename=file)}}" download target="_blank" style="text-decorations: none">{{file[6:]}}</a>
            {%endfor%}
            {%endif%}
        </div>
        {%endif%}
        {%endfor%}
        {%if showScore%}
        <hr class="my-4">
        <h4 style="font-style: none"> Общий результат: {{right}}/{{res|length}} ({{right*100/res|length}}%)</h4>
        {%endif%}
    </main>

</div>

{%endblock%}